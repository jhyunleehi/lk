# kernel Comile

1. Grab the latest kernel from kernel.org
2. Verify kernel
3. Untar the kernel tarball
4. Copy existing Linux kernel config file
5. Compile and build Linux kernel 5.6.9
6. Install Linux kernel and modules (drivers)
7. Update Grub configuration
8. Reboot the system



## How to compile and install Linux kernel

#### 1. Get  Linux kernel code

https://www.kernel.org/

```
jhyunlee@ubuntu20:~/code/linux$ git remote -v
origin	https://kernel.googlesource.com/pub/scm/linux/kernel/git/torvalds/linux.git (fetch)
origin	https://kernel.googlesource.com/pub/scm/linux/kernel/git/torvalds/linux.git (push)
```



#### 2. configure

```
$ cd linux
$ cp -v /boot/config-$(uname -r) .config
```



#### 3.  compilers,  tools

```
# sudo apt-get install build-essential libncurses-dev bison flex libssl-dev libelf-dev
```

#### 4. compile

```
$ make -j 4
## get thread or cpu core count using nproc command ##
$ make -j $(nproc)
```

```
$ sudo make modules_install
```

```
$ sudo make install
```

/boot 디렉토리에 다음 파일 복사

1. initramfs-5.6.9.img
2. System.map-5.6.9
3. vmlinuz-5.6.9



#### 5. update grub config

```
$ sudo update-initramfs -c -k 5.6.9
$ sudo update-grub
```

```
# reboot -h now
```

